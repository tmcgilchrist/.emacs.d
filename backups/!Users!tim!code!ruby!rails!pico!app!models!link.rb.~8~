class Link < ActiveRecord::Base

  before_save :generate_short_url
  
  validates_presence_of :original_url
  validates_uniqueness_of :original_url

  validates_format_of :original_url, :with => /(^$)|(^(http|https):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(([0-9]{1,5})?\/.*)?$)/ix, :message => "%{value} is not a valid url"

end
