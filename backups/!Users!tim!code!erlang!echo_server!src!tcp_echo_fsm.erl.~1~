-module(tcp_echo_fsm).

-behaviour(gen_fsm).

-export([start_link/0, set_socket/2]).

%% gen_fsm callbacks
-export([init/1, handle_even/3,
         handle_sync_event/4, handle_info/3, terminate/3, code_change/4]).

%% FSM States
-export([ 'WAIT_FOR_SOCKET'/2,
          'WAIT_FOR_DATA'/2
        ]).

-record(state, { socket,     % client socket
                 addr        % client address
               }).

-define(TIMEOUT, 120000).

