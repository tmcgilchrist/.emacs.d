-module(router).
-author('Tim McGilchrist').
% :set tab=4
-compile(export_all).

start() ->
    spawn_link(fun() -> loop([]) end).

rpc(Pid, Request) ->
    Pid ! {self(), Request},
    receive
        {Pid, Response} ->
              Response
    end.

loop(X) ->
    receive
        {switch} ->
            ?MODULE:switch(X);
        {}
        Any ->
            io:format("Received:~p~n", [Any]),
            loop(X)
    end.

% Reload loop implementation.
switch(X) -> loop(X).

%
% - read in node mobility trace file.
% - read in event file that produces network activity between nodes
%   - {msg} to generate 
