-module(router).
-author('Tim McGilchrist').
-compile(export_all).


loop([Name]) ->
    receive
        {_, switch} ->
            io:format("Switching!~n"),
            ?MODULE:switch([Name]);
        {_, exit} ->
            exit(self(), kill);
        {_, _Any} ->
            io:format("Received: ~p~n", [_Any]),
            loop([Name])
    end.

% Reload loop implementation.
switch(X) -> loop(X).


    
    
